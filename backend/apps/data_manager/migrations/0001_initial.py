# Generated by Django 5.0.1 on 2025-11-04 21:45

import django.core.validators
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='EsquemaDatos',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_columna', models.CharField(max_length=100, unique=True)),
                ('tipo_dato', models.CharField(max_length=50)),
                ('es_filtrable', models.BooleanField(default=True)),
                ('es_visualizable', models.BooleanField(default=True)),
                ('valores_unicos', models.JSONField(blank=True, help_text='Lista de valores únicos si es categórico', null=True)),
                ('cantidad_valores_unicos', models.IntegerField(blank=True, null=True)),
                ('valor_minimo', models.FloatField(blank=True, null=True)),
                ('valor_maximo', models.FloatField(blank=True, null=True)),
                ('descripcion', models.TextField(blank=True, help_text='Descripción de la columna')),
            ],
            options={
                'verbose_name': 'Esquema de Datos',
                'verbose_name_plural': 'Esquemas de Datos',
                'ordering': ['nombre_columna'],
            },
        ),
        migrations.CreateModel(
            name='FuenteDatos',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('archivo', models.FileField(help_text='Archivo Excel (.xlsx) o CSV con datos de estudiantes', upload_to='uploads/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['xlsx', 'csv'])])),
                ('fecha_carga', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de Carga')),
                ('procesado', models.BooleanField(default=False, verbose_name='¿Procesado?')),
                ('fecha_procesamiento', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de Procesamiento')),
                ('num_registros', models.IntegerField(blank=True, null=True, verbose_name='Número de Registros')),
                ('num_columnas', models.IntegerField(blank=True, null=True, verbose_name='Número de Columnas')),
                ('mensaje_error', models.TextField(blank=True, null=True, verbose_name='Mensaje de Error')),
            ],
            options={
                'verbose_name': 'Fuente de Datos',
                'verbose_name_plural': 'Fuentes de Datos',
                'ordering': ['-fecha_carga'],
            },
        ),
        migrations.CreateModel(
            name='DatosEstudiante',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('programa', models.CharField(db_index=True, max_length=200)),
                ('facultad', models.CharField(db_index=True, max_length=200)),
                ('periodo_ingreso', models.CharField(db_index=True, max_length=20)),
                ('ultimo_periodo_estado', models.CharField(max_length=20)),
                ('ultimo_estado', models.CharField(max_length=100)),
                ('desertor', models.IntegerField(db_index=True, help_text='0: No desertor, 1: Desertor')),
                ('estado_modificado', models.CharField(blank=True, max_length=100, null=True)),
                ('tipo_desercion', models.CharField(blank=True, max_length=100, null=True)),
                ('falta_registro', models.IntegerField(default=0)),
                ('conteo_bajo_rendimiento', models.IntegerField(default=0)),
                ('conteo_semestres_cancelados', models.IntegerField(default=0)),
                ('conteo_matriculado', models.IntegerField(default=0)),
                ('conteo_no_realizo_pago', models.IntegerField(default=0)),
                ('cantidad_pagos_matriculas', models.IntegerField(default=0)),
                ('semestres_registrados', models.IntegerField(default=0)),
                ('sexo', models.CharField(db_index=True, max_length=20)),
                ('estrato', models.IntegerField(db_index=True)),
                ('edad_ingreso', models.IntegerField()),
                ('edad_ultimo_estado', models.IntegerField()),
                ('tipo_ingreso', models.CharField(max_length=100)),
                ('tipo_admision', models.CharField(max_length=100)),
                ('modo_admision', models.CharField(max_length=100)),
                ('lectura', models.IntegerField(blank=True, null=True)),
                ('naturales', models.IntegerField(blank=True, null=True)),
                ('idiomas', models.FloatField(blank=True, null=True)),
                ('sociales', models.FloatField(blank=True, null=True)),
                ('puntaje_ponderado', models.FloatField(blank=True, null=True)),
                ('estado_civil', models.CharField(max_length=50)),
                ('promedio_carrera', models.FloatField(db_index=True)),
                ('promedio_primer_semestre', models.FloatField()),
                ('total_creditos', models.IntegerField()),
                ('creditos_aprobados', models.IntegerField()),
                ('creditos_aprobados_porcentaje', models.FloatField()),
                ('creditos_faltantes', models.IntegerField()),
                ('creditos_faltantes_porcentaje', models.FloatField()),
                ('creditos_reprobados', models.IntegerField(db_index=True)),
                ('cantidad_materias_reprobadas', models.IntegerField(db_index=True)),
                ('materia_mas_reprobada', models.CharField(blank=True, max_length=200, null=True)),
                ('cantidad_materia_mas_reprobada', models.IntegerField(default=0)),
                ('discapacidad', models.IntegerField(default=0)),
                ('grupo_poblacional', models.CharField(max_length=100)),
                ('grupo_victima', models.CharField(max_length=100)),
                ('grupo_etnico', models.CharField(db_index=True, max_length=100)),
                ('comunidad', models.CharField(max_length=100)),
                ('ha_solicitado_ayuda_psico', models.CharField(max_length=10)),
                ('sisben', models.CharField(max_length=50)),
                ('modalidad_grado', models.CharField(max_length=100)),
                ('tipo_colegio', models.CharField(db_index=True, max_length=50)),
                ('repitio_anio_colegio', models.CharField(max_length=10)),
                ('ocupacion_padre', models.CharField(max_length=100)),
                ('nivel_ed_padre', models.CharField(max_length=100)),
                ('ocupacion_madre', models.CharField(max_length=100)),
                ('nivel_ed_madre', models.CharField(max_length=100)),
                ('situacion_padres', models.CharField(max_length=100)),
                ('tipo_vivienda', models.CharField(max_length=100)),
                ('tiene_hijos', models.CharField(max_length=10)),
                ('credito_icetex', models.CharField(max_length=10)),
                ('politica_gratuidad', models.CharField(max_length=10)),
                ('descuento_equidad', models.CharField(max_length=10)),
                ('credito_fes', models.CharField(max_length=10)),
                ('credito_gobernacion', models.CharField(max_length=10)),
                ('descuento_deporte_cultura', models.CharField(max_length=10)),
                ('descuento_rendimiento_academico', models.CharField(max_length=10)),
                ('descuento_electoral', models.CharField(max_length=10)),
                ('descuento_asegura_solidaria', models.CharField(max_length=10)),
                ('descuento_confecoop', models.CharField(max_length=10)),
                ('descuento_congente', models.CharField(max_length=10)),
                ('descuento_excelencia', models.CharField(max_length=10)),
                ('descuento_hermano_conyuge', models.CharField(max_length=10)),
                ('apoyo_coorinoco', models.CharField(max_length=10)),
                ('descuento_representante', models.CharField(max_length=10)),
                ('descuento_socioeconomico', models.CharField(max_length=10)),
                ('descuento_trabajo_grado', models.CharField(max_length=10)),
                ('zona', models.CharField(max_length=50)),
                ('ciudad_nacimiento', models.CharField(blank=True, max_length=100, null=True)),
                ('departamento_nacimiento', models.CharField(blank=True, max_length=100, null=True)),
                ('ciudad_residencia', models.CharField(blank=True, db_index=True, max_length=100, null=True)),
                ('departamento_residencia', models.CharField(blank=True, db_index=True, max_length=100, null=True)),
                ('reside_meta', models.IntegerField(default=0)),
                ('reside_villavicencio', models.IntegerField(default=0)),
                ('nacio_villavicencio', models.IntegerField(default=0)),
                ('nacio_meta', models.IntegerField(default=0)),
                ('ingresos_dependientes_totales', models.BigIntegerField(default=0)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Datos de Estudiante',
                'verbose_name_plural': 'Datos de Estudiantes',
                'ordering': ['programa', 'periodo_ingreso'],
                'indexes': [models.Index(fields=['desertor', 'programa'], name='data_manage_deserto_f989ce_idx'), models.Index(fields=['desertor', 'facultad'], name='data_manage_deserto_ae2190_idx'), models.Index(fields=['periodo_ingreso', 'desertor'], name='data_manage_periodo_5525c7_idx'), models.Index(fields=['promedio_carrera', 'creditos_reprobados'], name='data_manage_promedi_6af605_idx')],
            },
        ),
    ]
